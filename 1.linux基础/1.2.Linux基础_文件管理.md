## LinuxåŸºç¡€: æ–‡ä»¶ç®¡ç†

-Author: bavdu

-Email: bavduer@gmail.com

-Github: https://github.com/bavdu

---

- Linuxæ–‡ä»¶ç®¡ç†ã€ç›®å½•æ ‘ç®¡ç†(10000ğŸŒŸ)
- Linuxä¸­è·å¾—å¸®åŠ©(10000ğŸŒŸ)
- Linuxæ–‡æœ¬ç¼–è¾‘å™¨vim(10000ğŸŒŸ)
- æ³¨æ„å¸ƒç½®ä½œä¸šï¼ï¼ï¼

---

##### Linuxæ–‡ä»¶ç®¡ç†

```shell
- åœ¨Linuxä¸­å¯¹äºæ–‡ä»¶çš„ç®¡ç†å¯ä»¥åˆ†ä¸ºå¢åˆ æ”¹æŸ¥å››éƒ¨åˆ†,åˆ†åˆ«å¯¹åº”æ–‡ä»¶çš„åˆ›å»ºã€æ–‡ä»¶çš„åˆ é™¤ã€æ–‡ä»¶çš„ä¿®æ”¹ã€æŸ¥è¯¢æ–‡ä»¶

##Part01:æ–‡ä»¶çš„åˆ›å»º(ç»“åˆæ–‡ä»¶è·¯å¾„)
[root@linux_basis ~]# touch /opt/linux_file_001.txt			--åœ¨/optç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶
[root@linux_basis ~]# ls /opt														--æŸ¥çœ‹/optæ˜¯å¦æ–°å»ºäº†æ–‡ä»¶
linux_file_001.txt

[root@linux_basis ~]# mkdir /opt/linux_dir_001					--åœ¨/optç›®å½•ä¸‹åˆ›å»ºç›®å½•
[root@linux_basis ~]# ls /opt/													--æŸ¥çœ‹/optæ˜¯å¦æ–°å»ºäº†ç›®å½•
linux_dir_001  linux_file_001.txt

##Part02:æ–‡ä»¶çš„åˆ é™¤(ç»“åˆæ–‡ä»¶è·¯å¾„)
[root@linux_basis ~]# rm -f /opt/linux_file_001.txt			--åˆ é™¤linux_file_001.txtæ–‡ä»¶
[root@linux_basis ~]# rm -rf /opt/linux_dir_001					--åˆ é™¤linux_dir_001ç›®å½•

##Part03:æ–‡ä»¶çš„ä¿®æ”¹
[root@linux_basis ~]# echo "hello linux" >/opt/linux_file_001.txt			--åœ¨æ–‡ä»¶ä¸­å¢åŠ å†…å®¹
[root@linux_basis ~]# cat /opt/linux_file_001.txt											--æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹
hello linux
[root@linux_basis ~]# echo "hello kitty" >/opt/linux_file_001.txt			--ä¿®æ”¹æ–‡ä»¶å†…å®¹(">"è¦†ç›–)
[root@linux_basis ~]# head /opt/linux_file_001.txt											--æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹
hello kitty

[root@linux_basis ~]# echo "hello everyone" >>/opt/linux_file_001.txt	--ä¿®æ”¹æ–‡ä»¶å†…å®¹(">>"è¿½åŠ )
[root@linux_basis ~]# tail /opt/linux_file_001.txt
hello kitty
hello everyone

##Part04:æŸ¥è¯¢æ–‡ä»¶è·¯å¾„
[root@linux_basis ~]# find / -iname linux_file_001.txt		--æ ¹æ®æ–‡ä»¶åå­—åœ¨â€œæ ¹â€ä¸­å¯»æ‰¾æ–‡ä»¶
/opt/linux_file_001.txt

[root@linux_basis ~]# find / -type f -size +50M						--æ ¹æ®æ–‡ä»¶çš„å¤§å°åœ¨â€œæ ¹â€ä¸­å¯»æ‰¾æ–‡ä»¶
/var/lib/rpm/Packages																			-- "-"æ˜¯å°äº,æ²¡æœ‰ç¬¦å·å°±æ˜¯ç­‰äº
/usr/lib/locale/locale-archive														-- typeä¸€èˆ¬æŒ‡å®šfile(f)ã€directory(d)
```



ç»ƒä¹ é¢˜:(20min)

1. åœ¨/tmpç›®å½•ä¸­å»åˆ›å»ºå‡ºä¸‰ä¸ªæ–‡ä»¶, linux_file001.txtã€linux_file002.txtã€linux_file003.txtå¹¶æŸ¥çœ‹æ˜¯å¦åˆ›å»ºæˆåŠŸ
2. åœ¨/mntç›®å½•ä¸­å»åˆ›å»ºå‡ºä¸‰ä¸ªç›®å½•, linux_dir001ã€linux_dir002ã€linux_dir003å¹¶æŸ¥çœ‹æ˜¯å¦åˆ›å»ºæˆåŠŸ
3. åœ¨ä¸Šè¿°åŸºç¡€ä¸‹,åˆ é™¤æ‰ä¸Šè¿°é—®é¢˜ä¸­çš„linux_file002.txtæ–‡ä»¶ã€åˆ é™¤æ‰ä¸Šè¿°é—®é¢˜ä¸­çš„linux_dir002ç›®å½•
4. åœ¨ä¸Šè¿°åŸºç¡€ä¸‹,åœ¨linux_file001.txtä¸­å¢åŠ "qianfeng cloud is very good"å­—ç¬¦ä¸²
5. åœ¨ä¸Šè¿°åŸºç¡€ä¸‹,æŠŠlinux_file001.txtä¸­çš„å­—ç¬¦ä¸²ä¿®æ”¹ä¸º"QianFeng Cloud is Very Good."
6. åœ¨ä¸Šè¿°åŸºç¡€ä¸‹,æŠŠlinux_file001.txtä¸­å†…å®¹å¢åŠ ä¸€è¡Œ"**<u>$ä½ çš„åå­—</u>**"è¿›å»
7. æŸ¥æ‰¾ç³»ç»Ÿä¸­, å¤§äº1Gçš„æ–‡ä»¶, æŸ¥æ‰¾/tmpä¸­å°äº4Kçš„æ–‡ä»¶, æŸ¥æ‰¾ç³»ç»Ÿä¸­å«åšsbinçš„ç›®å½•
8. æŸ¥çœ‹æ–‡ä»¶linux_file001.txtä¸­çš„å†…å®¹



##### Linuxç›®å½•æ ‘ç®¡ç†

```shell
- åœ¨Linuxç³»ç»Ÿä¸­é™¤äº†å¢åˆ æ”¹æŸ¥å››å¤§é¡¹æ“ä½œä»¥å¤–,æˆ‘ä»¬å¯¹äºç›®å½•æ ‘ä¸­çš„ç›®å½•å’Œæ–‡ä»¶ä¹Ÿæœ‰ç›¸å½“å¤šçš„æ“ä½œæ¯”å¦‚:
- copyã€moveã€headã€tail

##Part01:cpoy
[root@linux_basis ~]# cp /opt/linux_file_001.txt /mnt/ --æ‹·è´/optä¸‹çš„linux_file001.txtåˆ°/mntä¸‹

##Part02:move
[root@linux_basis ~]# mv /mnt/linux_file_001.txt /tmp/ --ç§»åŠ¨/mntä¸‹çš„linux_file001.txtåˆ°/tmpä¸‹

##Part03:head
[root@linux_basis ~]# head /mnt/passwd								 --æŸ¥çœ‹æ–‡ä»¶çš„å‰10è¡Œ
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin

##Part04:tail
[root@linux_basis ~]# tail /mnt/passwd								--æŸ¥çœ‹æ–‡ä»¶å10è¡Œ
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
nobody:x:99:99:Nobody:/:/sbin/nologin
systemd-network:x:192:192:systemd Network Management:/:/sbin/nologin
dbus:x:81:81:System message bus:/:/sbin/nologin
polkitd:x:999:998:User for polkitd:/:/sbin/nologin
tss:x:59:59:Account used by the trousers package to sandbox the tcsd daemon:/dev/null:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
postfix:x:89:89::/var/spool/postfix:/sbin/nologin
bavduer:x:1000:1000:bavduer:/home/bavduer:/bin/bash
ntp:x:38:38::/etc/ntp:/sbin/nologin

##æ‰“åŒ…æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹
[root@linux_basis ~]# cd /
[root@linux_basis /]# tar -czvf linux_basis.tar.gz etc			# å‹ç¼©æŒ‡å®šç›®å½•
[root@linux_basis /]# tar xf linux_basis.tar.gz -C /opt/		# è§£å‹æ–‡ä»¶åˆ°æŒ‡å®šä½ç½®

[root@linux_basis ~]# 1.æ–°å»ºç›®å½•
[root@linux_basis ~]# mkdir -p /opt/backup/filetar
[root@linux_basis ~]# 2.æ‹·è´è¦å‹ç¼©çš„æ‰€æœ‰æ–‡ä»¶
[root@linux_basis ~]# cp /root/* /opt/backup/filetar/
[root@linux_basis ~]# 3.åˆ‡æ¢ç›®å½•åˆ°/opt/backup
[root@linux_basis ~]# cd /opt/backup/
[root@linux_basis backup]# ls
filetar
[root@linux_basis backup]# 4.æ‰“åŒ…
[root@linux_basis backup]# tar -czvf filetar001.tar.gz filetar/
filetar/
filetar/file003.txt
filetar/passwd
filetar/file002.txt
[root@linux_basis backup]# ls
filetar  filetar001.tar.gz
[root@linux_basis backup]# tar xf filetar001.tar.gz -C /mnt/
[root@linux_basis backup]# ls /mnt/
file001.txt.move  filetar  test.move
```



##### Linuxæ–‡ä»¶ç®¡ç†ã€ç›®å½•æ ‘ç®¡ç†ã€æ‹“å±•ã€‘

```shell
##[Extend01: åˆ›å»º1000ä¸ªæ–‡ä»¶åœ¨/optç›®å½•ä¸‹]
[root@linux_basis ï½]# touch /opt/file{0001..1000}

##[Extend02: åˆ é™¤/optä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œç›®å½•]
[root@linux_basis ï½]# cd /
[root@linux_basis /]# rm -rf opt/*

##[Extend03: æŠŠæ‰¾åˆ°çš„æ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶åˆ°æŒ‡å®šçš„ç›®å½•ä¸‹]
[root@linux_basis opt]# find / -type f -iname *.txt -exec cp {} /opt/ \;

##[Extend04: å¤‡ä»½è¦æ›´æ”¹çš„æ–‡ä»¶]
[root@linux_basis ï½]# cp file.txt{,bak}

##[Extend05: æ–‡ä»¶çš„é‡å‘½å]
[root@linux_basis ï½]# mv file.txt abc.txt

##[Extend06: åªæŸ¥çœ‹æ–‡ä»¶ä¸­çš„æŸä¸€è¡Œ]
[root@linux_basis ï½]# head -14 /etc/passwd | tail -1

##[Extend07: æŠŠæŸ¥æ‰¾åˆ°çš„æ–‡ä»¶å…¨éƒ¨æ‰“åŒ…]
[root@linux_basis ï½]# find / -type f -iname *.txt | xargs tar -czvf backup.tar.gz {}
```



##### Linuxç³»ç»Ÿä¸­çš„å¸®åŠ©å‘½ä»¤

```shell
##[Example01: manæ‰‹å†Œ,åœ¨å…¶ä¸­å¯ä»¥æŸ¥çœ‹ OPTIONS(é€‰é¡¹)ã€EXAMPLE(ç¤ºä¾‹)ç­‰å¸®åŠ©ä¿¡æ¯]
[root@linux_basis ~]# man find

##[Example02: helpå¸®åŠ©,åœ¨å…¶ä¸­å¯ä»¥å¿«é€Ÿçš„æŸ¥çœ‹OPTIONS(é€‰é¡¹)çš„å¸®åŠ©ä¿¡æ¯,ç›¸æ¯”äºmanæ¯”è¾ƒç®€æ˜“,ä¿¡æ¯è¾ƒå°‘]
[root@linux_basis ~]# find --help
```



##### Linuxæ–‡æœ¬ç¼–è¾‘å™¨

å¤åˆ¶/ç²˜è´´/åˆ é™¤/æ’¤é”€/ç§»åŠ¨

```shell
1. å¤åˆ¶ä¸€æ•´è¡Œyy  åˆ°è¾¾æŒ‡å®šç›®æ ‡ä½ç½®åæŒ‰p
2. åˆ é™¤ä¸€æ•´è¡Œè¡Œdd

1-1. å¤åˆ¶å¤šè¡Œ n+yy  åˆ°è¾¾æŒ‡å®šç›®æ ‡ä½ç½®åæŒ‰p
2-1. åˆ é™¤å¤šè¡Œ n+dd
2-2. ä»å¼€å¤´åˆ åˆ°ç»“å°¾ dG ä»ç»“å°¾åˆ åˆ°å¼€å¤´ dgg
2-3. ä»å½“å‰å­—ç¬¦åˆ é™¤åˆ°è¯¥è¡Œæœ€åä¸€ä¸ªå­—ç¬¦ç”¨ D = shift+d
2-4. ä¿®æ”¹å…‰æ ‡æ‰€åœ¨å­—ç¬¦ r
2-5. åˆ é™¤å…‰æ ‡æ‰€åœ¨å­—ç¬¦ x

3. æ’¤é”€: u
4. ç§»åŠ¨: 
	Gè·³è½¬åˆ°æœ€åä¸€è¡Œçš„è¡Œé¦–
	ggè·³è½¬åˆ°ç¬¬ä¸€è¡Œçš„è¡Œé¦–
	n+ggè·³è½¬åˆ°ç›¸åº”çš„æŒ‡å®šè¡Œè¡Œé¦–
```

è¿‡åº¦æœŸ1ï¼šæ€ä¹ˆä»å‘½ä»¤æ¨¡å¼åˆ‡æ¢åˆ°æ’å…¥æ¨¡å¼

```shell
i/a/o I/A/O éƒ½è¡Œ
iï¼šç›´æ¥åœ¨å½“å‰å…‰æ ‡ä½ç½®è¿›è¡Œç¼–è¾‘
aï¼šåœ¨å…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®è¿›è¡Œç¼–è¾‘
oï¼šåœ¨å…‰æ ‡æ‰€åœ¨çš„è¡Œçš„ä¸‹ä¸€è¡Œæ–°å»ºä¸€è¡Œè¿›è¡Œç¼–è¾‘
```

è¿‡åº¦æœŸ2ï¼šæ€ä¹ˆä»æ’å…¥æ¨¡å¼é€€å›åˆ°å‘½ä»¤æ¨¡å¼ä¸­

```shell
Esc
```

è¿‡åº¦æœŸ3: æ€ä¹ˆä»å‘½ä»¤æ¨¡å¼ä¸­è¿›å…¥åˆ°æœ«è¡Œæ¨¡å¼ä¸­

```shell
: æˆ– /

- :set nu è®¾ç½®è¡Œå· 
- :set nonu å–æ¶ˆè®¾ç½®è¡Œå· 

- :set ic ä¸åŒºåˆ†å¤§å°å†™
- :set noic
- :set list æ˜¾ç¤ºæ§åˆ¶å­—ç¬¦

- :% s/è¢«æ›¿æ¢å­—ç¬¦/ç›®æ ‡å­—ç¬¦/g å…¨è¡Œæ›¿æ¢
- :1,5 s/// æŒ‡å®šèŒƒå›´æ›¿æ¢
- :r/home/huhu.txt è¯»å–homeç›®å½•ä¸‹çš„huhu.txtæ–‡ä»¶çš„å†…å®¹åˆ°å½“å‰æ–‡ä»¶ä¸­
- :w/home/youke.txt	æŠŠå½“å‰æ–‡ä»¶çš„å†…å®¹å¦å­˜ä¸ºhomeç›®å½•ä¸‹çš„youke.txtæ–‡ä»¶ä¸­

ä¿å­˜é€€å‡º
	:wq
	:wq!
	:x
	shift+zz = ZZ

/string æŸ¥æ‰¾å­—ç¬¦ä¸²
```

å¯è§†åŒ–æ“ä½œ

```shell
ctrl + v

å…¨éƒ¨å³ç§»: 1.ctrl+v 2.shift+ >
å…¨éƒ¨å·¦ç§»: 1.ctrl+v 2.shift+ <

å¢åŠ æ³¨é‡Š: 1.ctrl+v 2.é€‰ä¸­è¦æ³¨é‡Šçš„è¡Œ 3.shift+i 4.è¾“å…¥"#" 5.æŒ‰ä¸¤ä¸‹esc
åˆ é™¤æ³¨é‡Š: 1.ctrl+v 2.é€‰ä¸­è¦å–æ¶ˆæ³¨é‡Šçš„è¡Œ 3.æŒ‰d
```

